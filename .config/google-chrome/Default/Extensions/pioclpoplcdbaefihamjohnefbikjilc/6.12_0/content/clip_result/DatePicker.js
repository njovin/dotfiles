/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */

function DatePicker(a,b){"use strict";function c(a){var b=a.getMonth()+1;b<10&&(b="&nbsp;"+b);var c=a.getDate();c<10&&(c="&nbsp;"+c);var d=a.getFullYear();d<10?d="&nbsp;&nbsp;&nbsp;"+d:d<100?d="&nbsp;&nbsp;"+d:d<1e3&&(d="&nbsp;"+d);var e=m[s].dateFormat.replace("mm",'<span id="selectedMonth">'+b+"</span>").replace("dd",'<span id="selectedDate">'+c+"</span>").replace("yy",'<span id="selectedYear">'+d)+"</span> ";return 0==a.getHours()||12==a.getHours()?e+='<span id="selectedHour">12</span>':a.getHours()%12<10?e+='<span id="selectedHour">&nbsp;'+a.getHours()%12+"</span>":e+='<span id="selectedHour">'+a.getHours()%12+"</span>",a.getMinutes()<10?e+=':<span id="selectedMinute">0'+a.getMinutes()+"</span> ":e+=':<span id="selectedMinute">'+a.getMinutes()+"</span> ",a.getHours()<12?e+='<span id="selectedMeridian">AM</span>':e+='<span id="selectedMeridian">PM</span>',e}function d(){var a=document.createElement("div");a.id="dowHeader";for(var b=0;b<7;b++){var c=document.createElement("div");c.className="dow",c.innerText=Browser.i18n.getMessage(o[(m[s].firstDay+b)%7]).charAt(m[s].dowIndex||0).toUpperCase(),a.appendChild(c)}return a}function e(){m[s].showMonthAfterYear?u.innerText=r+" "+Browser.i18n.getMessage(n[q]).toUpperCase():u.innerText=Browser.i18n.getMessage(n[q]).toUpperCase()+" "+r}function f(){var a=new Date(r,q,1),b=a.getDay()-m[s].firstDay;b<0&&(b+=7),a=new Date(a-24*b*60*60*1e3);for(var c=0,d=!1,e=0;e<6;e++)for(var f=0;f<7;f++){var g;g=d?new Date(a-(6084e5*-e-24*f*60*60*1e3)):new Date(a-(7*-e*24*60*60*1e3-24*f*60*60*1e3)),c==g.getDate()&&(g=new Date(a-(7*-e*24*60*60*1e3-25*f*60*60*1e3)),d=!0),c=g.getDate(),v[e].children[f].innerText=g.getDate(),v[e].children[f].removeAttribute("id"),v[e].children[f].className=v[e].children[f].className.replace(/\s*(nextMonth|previousMonth|selected)/g,""),g.getMonth()>q&&g.getFullYear()==r||g.getMonth()<q&&g.getFullYear()>r?v[e].children[f].className+=" nextMonth":g.getMonth()<q&&g.getFullYear()==r||g.getMonth()>q&&g.getFullYear()<r?v[e].children[f].className+=" previousMonth":(g.getMonth()==p.getMonth()&&g.getDate()==p.getDate()&&g.getFullYear()==p.getFullYear()&&(v[e].children[f].id="today"),t&&g.getMonth()==t.month&&g.getDate()==t.date&&g.getFullYear()==t.year&&(v[e].children[f].className+=" selected"))}}function g(){q=(q+1)%12,q||r++,e(),f()}function h(){q=(q-1+12)%12,11==q&&r--,e(),f()}function i(c,d){var g=a.querySelector(".day.selected");g&&(g.className=g.className.replace(/\s*selected/g,"")),q==c.getMonth()&&r==c.getFullYear()||(q=c.getMonth(),r=c.getFullYear(),e(),f());for(var h=a.querySelectorAll(".day:nth-child("+(c.getDay()+1-m[s].firstDay||7)+")"),i=0;i<h.length;i++){var j=h.item(i);if(!(j.innerText!=c.getDate()&&j.textContent!=c.getDate()||/previousMonth/.test(j.className)||/nextMonth/.test(j.className))){j.className+=" selected";break}}t={month:c.getMonth(),date:c.getDate(),year:c.getFullYear()},b(t,d)}function j(){return Boolean(t)}function k(){t?(q=t.month,r=t.year):(q=p.getMonth(),r=p.getFullYear()),e(),f()}function l(a){return new RegExp("^"+m[s].dateFormat.replace(/\//g,"\\/").replace(/\./g,"\\.").replace(/(mm|dd)/g,"(\\s\\d|\\d{2})").replace("yy","(\\d{4})")+" (\\s\\d|\\d{2}):\\d{2} (AM|PM)$").test(a)}var m={da:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},de:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},enau:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},engb:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ennz:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},enus:{dateFormat:"mm/dd/yy",firstDay:0,showMonthAfterYear:!1},es:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},fi:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},frca:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!1},frch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},fr:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},hu:{dateFormat:"yy.mm.dd.",firstDay:1,showMonthAfterYear:!0},id:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},itch:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},it:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},ja:{dateFormat:"yy/mm/dd",firstDay:0,showMonthAfterYear:!0},ko:{dateFormat:"yy-mm-dd",firstDay:0,showMonthAfterYear:!0},ms:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},nb:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},nlbe:{dateFormat:"dd/mm/yy",firstDay:1,showMonthAfterYear:!1},nl:{dateFormat:"dd-mm-yy",firstDay:1,showMonthAfterYear:!1},pl:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ptbr:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},pt:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},ro:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},ru:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},srsr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},sr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},sv:{dateFormat:"yy-mm-dd",firstDay:1,showMonthAfterYear:!1},th:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},tr:{dateFormat:"dd.mm.yy",firstDay:1,showMonthAfterYear:!1},vi:{dateFormat:"dd/mm/yy",firstDay:0,showMonthAfterYear:!1},zhcn:{dateFormat:"yy-mm-dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0},zhhk:{dateFormat:"dd-mm-yy",dowIndex:2,firstDay:0,showMonthAfterYear:!0},zhtw:{dateFormat:"yy/mm/dd",dowIndex:2,firstDay:1,showMonthAfterYear:!0}},n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=new Date,q=p.getMonth(),r=p.getFullYear(),s=window.navigator.language.replace(/[^a-z]/gi,"").toLowerCase();m[s]||(s="enus");var t,u,v=[];!function(){var b=document.createElement("div"),c=document.createElement("div");b.id="previous",b.addEventListener("click",h),c.id="next",c.addEventListener("click",g);var j=document.createElement("div");j.id="topRow",j.appendChild(b),j.appendChild(c),u=document.createElement("div"),u.id="monthYearHeader",j.appendChild(u),a.appendChild(j),a.appendChild(d());for(var k=0;k<6;k++){v.push(document.createElement("div")),v[k].className="week";for(var l=0;l<7;l++){var m=document.createElement("div");m.className="day",m.addEventListener("click",function(){/previousMonth/.test(this.className)?h():/nextMonth/.test(this.className)?g():i(new Date(r,q,parseInt(this.innerText||this.textContent)))}),v[k].appendChild(m)}a.appendChild(v[k])}e(),f()}(),this.format=c,this.selectDate=i,this.selectedDate=j,this.showTodayOrSelected=k,this.validate=l,Object.preventExtensions(this)}Object.preventExtensions(DatePicker);