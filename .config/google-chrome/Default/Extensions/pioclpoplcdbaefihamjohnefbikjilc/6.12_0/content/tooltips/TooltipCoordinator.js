/*! Copyright 2009-2017 Evernote Corporation. All rights reserved. */

function TooltipCoordinator(a,b,c,d){"use strict";function e(a,c,d){a.which===b&&g&&(g.addEventListener(Browser.whichTransitionEnd(),function(){g&&g.parentNode&&g.parentNode.removeChild(g),g=null,clearInterval(h)}),g.classList.remove("evernoteTooltipShow")),d&&"function"==typeof d&&d()}function f(a,c,d){a.which===b&&g&&g.parentNode&&g.style.setProperty("height",a.height+"px","important"),d&&"function"==typeof d&&d()}var g,h;Browser.addMessageHandlers({ttc_close:e,ttc_setHeight:f}),function(){function f(a,b,c){a&&g.style.setProperty("left",a+"px","important"),b&&g.style.setProperty("top",b+"px","important"),c?g.style.setProperty("position",c,"important"):g.style.removeProperty("position")}if(g=document.createElement("iframe"),g.id=c,g.className="evernoteTooltip",g.src=a,g.addEventListener("load",function(){this.classList.add("evernoteTooltipShow")}),d){if(d.generatePosition){var i=d.generatePosition();f(i.left,i.top,i.fixed?"fixed":"absolute"),d.updatePosition&&(h=setInterval(function(){var a=d.generatePosition();f(a.left,a.top,a.fixed?"fixed":"absolute")},250))}d.closeOnOutsideClick&&window.addEventListener("click",function(){e({which:b})}),d.classList&&d.classList.forEach(function(a){g.classList.add(a)})}document.documentElement.appendChild(g)}(),Object.preventExtensions(this)}Object.preventExtensions(TooltipCoordinator);